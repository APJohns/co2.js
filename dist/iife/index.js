var co2=(()=>{var k=Object.create;var y=Object.defineProperty;var H=Object.getOwnPropertyDescriptor;var j=Object.getOwnPropertyNames;var Z=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty;var $=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),J=(t,e)=>{for(var r in e)y(t,r,{get:e[r],enumerable:!0})},v=(t,e,r,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of j(e))!x.call(t,n)&&n!==r&&y(t,n,{get:()=>e[n],enumerable:!(a=H(e,n))||a.enumerable});return t};var X=(t,e,r)=>(r=t!=null?k(Z(t)):{},v(e||!t||!t.__esModule?y(r,"default",{value:t,enumerable:!0}):r,t)),Q=t=>v(y({},"__esModule",{value:!0}),t);var F=$((Ve,w)=>{"use strict";async function ee(t,e){return typeof t=="string"?te(t,e):ne(t,e)}function te(t,e){return e.indexOf(t)>-1}function re(t){return Object.entries(t).filter(([a,n])=>n.green).map(([a,n])=>n.url)}function ne(t,e){let r=[];for(let a of t)e.indexOf(a)>-1&&r.push(a);return r}function ae(t,e){return typeof t=="string"?K(t,e):ie(t,e)}function K(t,e){return e.indexOf(t)>-1?t:{url:t,green:!1}}function ie(t,e){let r={};for(let a of t)r[a]=K(a,e);return r}w.exports={check:ee,greenDomainsFromResults:re,find:ae}});var ge={};J(ge,{averageIntensity:()=>E,co2:()=>D,default:()=>fe,hosting:()=>M,marginalIntensity:()=>V});var T=4883333333333333e-25;var m=class{constructor(e){this.options=e,this.KWH_PER_BYTE_FOR_NETWORK=T}perByte(e,r){if(e<1)return 0;if(r){let n=e*72e-12*0,o=e*T*475;return n+o}let a=72e-12+T;return e*a*519}};var L=m;var C={GIGABYTE:1e9};var q={AFG:120.48,AFRICA:569,ALB:23.44,DZA:633.73,ASM:687.5,AGO:212.42,ATG:657.14,ARG:394.62,ARM:280.06,ABW:591.4,ASEAN:563.69,ASIA:591.37,AUS:570.35,AUT:110.81,AZE:719.39,BHS:698.11,BHR:956.55,BGD:677.38,BRB:644.86,BLR:465.34,BEL:138.11,BLZ:484.38,BEN:666.67,BTN:24.44,BOL:481.83,BIH:600,BWA:867.58,BRA:105.51,BRN:961.54,BGR:335.33,BFA:611.43,BDI:250,CPV:600,KHM:436.13,CMR:278.26,CAN:161.43,CYM:684.93,CAF:0,TCD:677.42,CHL:353.52,CHN:585.82,COL:198.53,COM:714.29,COG:723.88,COD:25.36,COK:400,CRI:37.21,CIV:453.55,HRV:204.96,CUB:677.47,CYP:534.32,CZE:449.72,DNK:151.65,DJI:666.67,DMA:529.41,DOM:592.49,ECU:192.39,EGY:570.13,SLV:199.76,GNQ:492.96,ERI:688.89,EST:416.67,SWZ:189.19,ETH:25.19,EU:243.83,EUROPE:328.37,FLK:500,FRO:428.57,FJI:289.47,FIN:79.16,FRA:56.04,GUF:237.62,PYF:471.43,G20:487.22,G7:375.24,GAB:397.38,GMB:700,GEO:176.97,DEU:380.95,GHA:498.81,GRC:336.57,GRL:133.33,GRD:714.29,GLP:536.15,GUM:670.33,GTM:331.72,GIN:208.63,GNB:750,GUY:642.28,HTI:606.06,HND:378.97,HKG:733.05,HUN:204.19,ISL:28.56,IND:705.13,IDN:675.93,IRN:665.15,IRQ:708.1,IRL:290.81,ISR:641.17,ITA:330.72,JAM:588.51,JPN:512.81,JOR:572.74,KAZ:830.41,KEN:101.13,KIR:666.67,XKX:894.65,KWT:648.72,KGZ:124.48,LAO:284.21,"LATIN AMERICA AND CARIBBEAN":265.76,LVA:123.2,LBN:663.1,LSO:20,LBR:304.35,LBY:861.69,LTU:160.07,LUX:105.26,MAC:627.12,MDG:497.61,MWI:133.8,MYS:605.83,MDV:651.52,MLI:463.13,MLT:459.14,MTQ:556.29,MRT:526.6,MUS:631.94,MEX:475.36,"MIDDLE EAST":667.83,MDA:871.66,MNG:852.82,MNE:417.07,MSR:1e3,MAR:705.67,MOZ:150.25,MMR:575.77,NAM:70.06,NRU:750,NPL:23.43,NLD:267.62,NCL:610.12,NZL:113.27,NIC:276.6,NER:622.22,NGA:483.29,"NORTH AMERICA":377.14,PRK:182.01,MKD:565.35,NOR:30.08,OCEANIA:507.09,OECD:370.28,OMN:556,PAK:435.89,PSE:511.63,PAN:175,PNG:526.75,PRY:25.39,PER:301.25,POL:661.93,PRT:165.55,PRI:719.85,QAT:602.39,REU:608.41,ROU:240.58,RUS:436.28,RWA:294.12,KNA:681.82,LCA:685.71,SPM:800,VCT:500,WSM:470.59,STP:600,SAU:706.79,SEN:685.05,SRB:636.06,SYC:615.39,SLE:47.62,SGP:515.28,SVK:116.77,SVN:231.28,SLB:727.27,SOM:634.15,ZAF:729.67,KOR:441.65,SSD:684.21,ESP:174.05,LKA:543.12,SDN:288.13,SUR:356.44,SWE:40.7,CHE:34.84,SYR:758.35,TWN:639.53,TJK:99.34,TZA:313.68,THA:560.74,PHL:641.96,TGO:492.06,TON:625,TTO:724.14,TUN:567.62,TUR:464.59,TKM:1306.36,TCA:703.7,UGA:52.27,UKR:259.69,ARE:561.14,GBR:237.74,USA:410.37,URY:149.49,UZB:1176.69,VUT:571.43,VEN:298.5,VNM:409.8,VGB:714.29,VIR:685.71,WORLD:490.33,YEM:613.64,ZMB:86.39,ZWE:433.38},z="average";var E={data:q,type:z};var U=.81,O=.52,_=.14,S=.15,p=.19,i=E.data.WORLD,f=50,g=.75,N=.25,I=.02;var d=t=>parseFloat(t.toFixed(2));function B(t){if(typeof t!="object")throw new Error("Options must be an object");let e={};if(t?.gridIntensity){e.gridIntensity={};let{device:r,dataCenter:a,network:n}=t.gridIntensity;(r||r===0)&&(typeof r=="object"?(E.data[r.country?.toUpperCase()]||(console.warn(`"${r.country}" is not a valid country. Please use a valid 3 digit ISO 3166 country code. 
See https://developers.thegreenwebfoundation.org/co2js/data/ for more information. 
Falling back to global average grid intensity.`),e.gridIntensity.device={value:i}),e.gridIntensity.device={country:r.country,value:parseFloat(E.data[r.country?.toUpperCase()])}):typeof r=="number"?e.gridIntensity.device={value:r}:(e.gridIntensity.device={value:i},console.warn(`The device grid intensity must be a number or an object. You passed in a ${typeof r}. 
Falling back to global average grid intensity.`))),(a||a===0)&&(typeof a=="object"?(E.data[a.country?.toUpperCase()]||(console.warn(`"${a.country}" is not a valid country. Please use a valid 3 digit ISO 3166 country code. 
See https://developers.thegreenwebfoundation.org/co2js/data/ for more information.  
Falling back to global average grid intensity.`),e.gridIntensity.dataCenter={value:i}),e.gridIntensity.dataCenter={country:a.country,value:parseFloat(E.data[a.country?.toUpperCase()])}):typeof a=="number"?e.gridIntensity.dataCenter={value:a}:(e.gridIntensity.dataCenter={value:i},console.warn(`The data center grid intensity must be a number or an object. You passed in a ${typeof a}. 
Falling back to global average grid intensity.`))),(n||n===0)&&(typeof n=="object"?(E.data[n.country?.toUpperCase()]||(console.warn(`"${n.country}" is not a valid country. Please use a valid 3 digit ISO 3166 country code. 
See https://developers.thegreenwebfoundation.org/co2js/data/ for more information.  Falling back to global average grid intensity. 
Falling back to global average grid intensity.`),e.gridIntensity.network={value:i}),e.gridIntensity.network={country:n.country,value:parseFloat(E.data[n.country?.toUpperCase()])}):typeof n=="number"?e.gridIntensity.network={value:n}:(e.gridIntensity.network={value:i},console.warn(`The network grid intensity must be a number or an object. You passed in a ${typeof n}. 
Falling back to global average grid intensity.`)))}return(t?.dataReloadRatio||t.dataReloadRatio===0)&&(typeof t.dataReloadRatio=="number"?t.dataReloadRatio>=0&&t.dataReloadRatio<=1?e.dataReloadRatio=t.dataReloadRatio:(e.dataReloadRatio=I,console.warn(`The dataReloadRatio option must be a number between 0 and 1. You passed in ${t.dataReloadRatio}. 
Falling back to default value.`)):(e.dataReloadRatio=I,console.warn(`The dataReloadRatio option must be a number. You passed in a ${typeof t.dataReloadRatio}. 
Falling back to default value.`))),(t?.firstVisitPercentage||t.firstVisitPercentage===0)&&(typeof t.firstVisitPercentage=="number"?t.firstVisitPercentage>=0&&t.firstVisitPercentage<=1?e.firstVisitPercentage=t.firstVisitPercentage:(e.firstVisitPercentage=g,console.warn(`The firstVisitPercentage option must be a number between 0 and 1. You passed in ${t.firstVisitPercentage}. 
Falling back to default value.`)):(e.firstVisitPercentage=g,console.warn(`The firstVisitPercentage option must be a number. You passed in a ${typeof t.firstVisitPercentage}. 
Falling back to default value.`))),(t?.returnVisitPercentage||t.returnVisitPercentage===0)&&(typeof t.returnVisitPercentage=="number"?t.returnVisitPercentage>=0&&t.returnVisitPercentage<=1?e.returnVisitPercentage=t.returnVisitPercentage:(e.returnVisitPercentage=N,console.warn(`The returnVisitPercentage option must be a number between 0 and 1. You passed in ${t.returnVisitPercentage}. 
Falling back to default value.`)):(e.returnVisitPercentage=N,console.warn(`The returnVisitPercentage option must be a number. You passed in a ${typeof t.returnVisitPercentage}. 
Falling back to default value.`))),e}function G(t=""){return{"User-Agent":`co2js/0.14.4 ${t}`}}var P=class{constructor(e){this.options=e}energyPerByteByComponent(e){let a=e/C.GIGABYTE*U;return{consumerDeviceEnergy:a*O,networkEnergy:a*_,productionEnergy:a*p,dataCenterEnergy:a*S}}co2byComponent(e,r=i,a={}){let n=i,o=i,c=i,R=i;if(a?.gridIntensity){let{device:s,network:l,dataCenter:A}=a.gridIntensity;(s?.value||s?.value===0)&&(n=s.value),(l?.value||l?.value===0)&&(o=l.value),(A?.value||A?.value===0)&&(c=A.value)}r===!0&&(c=f);let u={};for(let[s,l]of Object.entries(e))s.startsWith("dataCenterEnergy")?u[s.replace("Energy","CO2")]=l*c:s.startsWith("consumerDeviceEnergy")?u[s.replace("Energy","CO2")]=l*n:s.startsWith("networkEnergy")?u[s.replace("Energy","CO2")]=l*o:u[s.replace("Energy","CO2")]=l*R;return u}perByte(e,r=!1,a=!1,n={}){e<1&&(e=0);let o=this.energyPerByteByComponent(e,n);if(typeof r!="boolean")throw new Error(`perByte expects a boolean for the carbon intensity value. Received: ${r}`);let c=this.co2byComponent(o,r,n),u=Object.values(c).reduce((s,l)=>s+l);return a?{...c,total:u}:u}perVisit(e,r=!1,a=!1,n={}){let o=this.energyPerVisitByComponent(e,n);if(typeof r!="boolean")throw new Error(`perVisit expects a boolean for the carbon intensity value. Received: ${r}`);let c=this.co2byComponent(o,r,n),u=Object.values(c).reduce((s,l)=>s+l);return a?{...c,total:u}:u}energyPerByte(e){let r=this.energyPerByteByComponent(e);return Object.values(r).reduce((n,o)=>n+o)}energyPerVisitByComponent(e,r={},a=g,n=N,o=I){(r.dataReloadRatio||r.dataReloadRatio===0)&&(o=r.dataReloadRatio),(r.firstVisitPercentage||r.firstVisitPercentage===0)&&(a=r.firstVisitPercentage),(r.returnVisitPercentage||r.returnVisitPercentage===0)&&(n=r.returnVisitPercentage);let c=this.energyPerByteByComponent(e),R={},u=Object.values(c);for(let[s,l]of Object.entries(c))R[`${s} - first`]=l*a,R[`${s} - subsequent`]=l*n*o;return R}energyPerVisit(e){let r=0,a=0,n=Object.entries(this.energyPerVisitByComponent(e));for(let[o,c]of n)o.indexOf("first")>0&&(r+=c);for(let[o,c]of n)o.indexOf("subsequent")>0&&(a+=c);return r+a}emissionsPerVisitInGrams(e,r=i){return d(e*r)}annualEnergyInKwh(e,r=1e3){return e*r*12}annualEmissionsInGrams(e,r=1e3){return e*r*12}annualSegmentEnergy(e){return{consumerDeviceEnergy:d(e*O),networkEnergy:d(e*_),dataCenterEnergy:d(e*S),productionEnergy:d(e*p)}}};var h=P;var b=class{constructor(e){if(this.model=new h,e?.model==="1byte")this.model=new L;else if(e?.model==="swd")this.model=new h;else if(e?.model)throw new Error(`"${e.model}" is not a valid model. Please use "1byte" for the OneByte model, and "swd" for the Sustainable Web Design model.
See https://developers.thegreenwebfoundation.org/co2js/models/ to learn more about the models available in CO2.js.`);this._segment=e?.results==="segment"}perByte(e,r=!1){return this.model.perByte(e,r,this._segment)}perVisit(e,r=!1){if(this.model?.perVisit)return this.model.perVisit(e,r,this._segment);throw new Error(`The perVisit() method is not supported in the model you are using. Try using perByte() instead.
See https://developers.thegreenwebfoundation.org/co2js/methods/ to learn more about the methods available in CO2.js.`)}perByteTrace(e,r=!1,a={}){let n={};return a&&(n=B(a)),{co2:this.model.perByte(e,r,this._segment,n),green:r,variables:{description:"Below are the variables used to calculate this CO2 estimate.",bytes:e,gridIntensity:{description:"The grid intensity (grams per kilowatt-hour) used to calculate this CO2 estimate.",network:n?.gridIntensity?.network?.value??i,dataCenter:r?f:n?.gridIntensity?.dataCenter?.value??i,production:i,device:n?.gridIntensity?.device?.value??i}}}}perVisitTrace(e,r=!1,a={}){if(this.model?.perVisit){let n={};return a&&(n=B(a)),{co2:this.model.perVisit(e,r,this._segment,n),green:r,variables:{description:"Below are the variables used to calculate this CO2 estimate.",bytes:e,gridIntensity:{description:"The grid intensity (grams per kilowatt-hour) used to calculate this CO2 estimate.",network:n?.gridIntensity?.network?.value??i,dataCenter:r?f:n?.gridIntensity?.dataCenter?.value??i,production:i,device:n?.gridIntensity?.device?.value??i},dataReloadRatio:n?.dataReloadRatio??.02,firstVisitPercentage:n?.firstVisitPercentage??.75,returnVisitPercentage:n?.returnVisitPercentage??.25}}}else throw new Error(`The perVisitDetailed() method is not supported in the model you are using. Try using perByte() instead.
See https://developers.thegreenwebfoundation.org/co2js/methods/ to learn more about the methods available in CO2.js.`)}};var D=b;var W=X(F());function oe(t,e){let r=typeof e=="string"?{userAgentIdentifier:e}:e;if(r?.db&&r.verbose)throw new Error("verbose mode cannot be used with a local lookup database");return typeof t=="string"?se(t,r):ce(t,r)}async function se(t,e={}){let r=await fetch(`https://api.thegreenwebfoundation.org/greencheck/${t}`,{headers:G(e.userAgentIdentifier)});if(e?.db)return W.default.check(t,e.db);let a=await r.json();return e.verbose?a:a.green}async function ce(t,e={}){try{let r="https://api.thegreenwebfoundation.org/v2/greencheckmulti",a=JSON.stringify(t),o=await(await fetch(`${r}/${a}`,{headers:G(e.userAgentIdentifier)})).json();return e.verbose?o:le(o)}catch{return e.verbose?{}:[]}}function le(t){return Object.entries(t).filter(([a,n])=>n.green).map(([a,n])=>n.url)}var Y={check:oe};function ue(t,e){return Y.check(t,e)}var M={check:ue};var Ee={AFG:"414",ALB:"0",DZA:"528",ASM:"753",AND:"188",AGO:"1476",AIA:"753",ATG:"753",ARG:"478",ARM:"390",ABW:"753",AUS:"808",AUT:"242",AZE:"534","AZORES (PORTUGAL)":"753",BHS:"753",BHR:"726",BGD:"528",BRB:"749",BLR:"400",BEL:"252",BLZ:"403",BEN:"745",BMU:"753",BTN:"0",BOL:"604",BES:"753",BIH:"1197",BWA:"1486",BRA:"284",VGB:"753",BRN:"681",BGR:"911",BFA:"753",BDI:"414",KHM:"1046",CMR:"659",CAN:"372",CYM:"753",CPV:"753",CAF:"188",TCD:"753","CHANNEL ISLANDS (U.K)":"753",CHL:"657",CHN:"899",COL:"410",COM:"753",COD:"0",COG:"659",COK:"753",CRI:"108",CIV:"466",HRV:"294",CUB:"559",CUW:"876",CYP:"751",CZE:"902",DNK:"362",DJI:"753",DMA:"753",DOM:"601",ECU:"560",EGY:"554",SLV:"547",GNQ:"632",ERI:"915",EST:"1057",SWZ:"0",ETH:"0",FLK:"753",FRO:"753",FJI:"640",FIN:"267",FRA:"158",GUF:"423",PYF:"753",GAB:"946",GMB:"753",GEO:"289",DEU:"650",GHA:"495",GIB:"779",GRC:"507",GRL:"264",GRD:"753",GLP:"753",GUM:"753",GTM:"798",GIN:"753",GNB:"753",GUY:"847",HTI:"1048",HND:"662",HUN:"296",ISL:"0",IND:"951",IDN:"783",IRN:"592",IRQ:"1080",IRL:"380",IMN:"436",ISR:"394",ITA:"414",JAM:"711",JPN:"471",JOR:"529",KAZ:"797",KEN:"574",KIR:"753",PRK:"754",KOR:"555",XKX:"1145",KWT:"675",KGZ:"217",LAO:"1069",LVA:"240",LBN:"794",LSO:"0",LBR:"677",LBY:"668",LIE:"151",LTU:"211",LUX:"220",MDG:"876","MADEIRA (PORTUGAL)":"663",MWI:"489",MYS:"551",MDV:"753",MLI:"1076",MLT:"520",MHL:"753",MTQ:"753",MRT:"753",MUS:"700",MYT:"753",MEX:"531",FSM:"753",MDA:"541",MCO:"158",MNG:"1366",MNE:"899",MSR:"753",MAR:"729",MOZ:"234",MMR:"719",NAM:"355",NRU:"753",NPL:"0",NLD:"326",NCL:"779",NZL:"246",NIC:"675",NER:"772",NGA:"526",NIU:"753",MKD:"851",MNP:"753",NOR:"47",OMN:"479",PAK:"592",PLW:"753",PSE:"719",PAN:"477",PNG:"597",PRY:"0",PER:"473",PHL:"672",POL:"828",PRT:"389",PRI:"596",QAT:"503",REU:"772",ROU:"489",RUS:"476",RWA:"712",SHN:"753",KNA:"753",LCA:"753",MAF:"753",SPM:"753",VCT:"753",WSM:"753",SMR:"414",STP:"753",SAU:"592",SEN:"870",SRB:"1086",SYC:"753",SLE:"489",SGP:"379",SXM:"753",SVK:"332",SVN:"620",SLB:"753",SOM:"753",ZAF:"1070",SSD:"890",ESP:"402",LKA:"731",SDN:"736",SUR:"1029",SWE:"68",CHE:"48",SYR:"713",TWN:"484",TJK:"255",TZA:"531",THA:"450",TLS:"753",TGO:"859",TON:"753",TTO:"559",TUN:"468",TUR:"376",TKM:"927",TCA:"753",TUV:"753",UGA:"279",UKR:"768",ARE:"556",GBR:"380",USA:"416",URY:"174",UZB:"612",VUT:"753",VEN:"711",VNM:"560",VIR:"650",YEM:"807",ZMB:"416",ZWE:"1575","MEMO:  EU 27":"409"},Re="marginal",de="2021";var V={data:Ee,type:Re,year:de};var fe={co2:D,hosting:M,averageIntensity:E,marginalIntensity:V};return Q(ge);})();
//# sourceMappingURL=index.js.map
