var co2=(()=>{var A=Object.defineProperty;var K=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var F=Object.prototype.hasOwnProperty;var W=(a,e)=>{for(var t in e)A(a,t,{get:e[t],enumerable:!0})},Y=(a,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of w(e))!F.call(a,r)&&r!==t&&A(a,r,{get:()=>e[r],enumerable:!(n=K(e,r))||n.enumerable});return a};var H=a=>Y(A({},"__esModule",{value:!0}),a);var te={};W(te,{averageIntensity:()=>R,co2:()=>V,default:()=>ee,hosting:()=>b,marginalIntensity:()=>L});var T=4883333333333333e-25;var m=class{constructor(e){this.options=e,this.KWH_PER_BYTE_FOR_NETWORK=T}perByte(e,t){if(e<1)return 0;if(t){let r=e*72e-12*0,i=e*T*475;return r+i}let n=72e-12+T;return e*n*519}};var D=m;var C={GIGABYTE:1e9};var k={AFG:120.48,AFRICA:566.14,ALB:23.44,DZA:633.73,ASM:687.5,AGO:212.42,ATG:657.14,ARG:394.62,ARM:280.06,ABW:591.4,ASEAN:563.69,ASIA:591.37,AUS:570.35,AUT:110.48,AZE:719.39,BHS:698.11,BHR:956.55,BGD:677.38,BRB:644.86,BLR:465.34,BEL:137.68,BLZ:484.38,BEN:666.67,BTN:24.44,BOL:481.83,BIH:600,BWA:867.58,BRA:105.51,BRN:961.54,BGR:335.42,BFA:611.43,BDI:250,CPV:600,KHM:436.13,CMR:278.26,CAN:161.43,CYM:684.93,CAF:0,TCD:677.42,CHL:353.52,CHN:585.82,COL:198.53,COM:714.29,COG:723.88,COD:25.36,COK:400,CRI:37.21,CIV:453.55,HRV:204.96,CUB:677.47,CYP:535.19,CZE:449.65,DNK:151.65,DJI:666.67,DMA:529.41,DOM:592.49,ECU:192.39,EGY:570.13,SLV:211.29,GNQ:492.96,ERI:688.89,EST:416.03,SWZ:189.19,ETH:25.19,EU:243.9,EUROPE:328.46,FLK:500,FRO:428.57,FJI:289.47,FIN:79.16,FRA:56.04,GUF:237.62,PYF:471.43,G20:486.81,G7:375.24,GAB:397.38,GMB:700,GEO:176.97,DEU:380.95,GHA:498.81,GRC:336.71,GRL:133.33,GRD:714.29,GLP:536.15,GUM:670.33,GTM:331.72,GIN:208.63,GNB:750,GUY:642.28,HTI:606.06,HND:378.97,HKG:733.05,HUN:204.3,ISL:28.56,IND:705.13,IDN:675.93,IRN:665.15,IRQ:708.1,IRL:290.81,ISR:641.17,ITA:331.02,JAM:588.51,JPN:512.81,JOR:572.74,KAZ:830.41,KEN:101.13,KIR:666.67,XKX:894.65,KWT:648.72,KGZ:124.48,LAO:284.21,"LATIN AMERICA AND CARIBBEAN":265.84,LVA:123.4,LBN:663.1,LSO:20,LBR:304.35,LBY:861.69,LTU:160.07,LUX:104.35,MAC:627.12,MDG:497.61,MWI:133.8,MYS:605.83,MDV:651.52,MLI:463.13,MLT:459.14,MTQ:556.29,MRT:526.6,MUS:631.94,MEX:475.36,"MIDDLE EAST":667.83,MDA:871.66,MNG:852.82,MNE:417.07,MSR:1e3,MAR:705.67,MOZ:150.25,MMR:575.77,NAM:70.06,NRU:750,NPL:23.43,NLD:267.89,NCL:610.12,NZL:113.27,NIC:276.6,NER:622.22,NGA:483.29,"NORTH AMERICA":377.14,PRK:182.01,MKD:590.43,NOR:30.08,OCEANIA:507.09,OECD:370.15,OMN:556,PAK:435.89,PSE:511.63,PAN:175,PNG:526.75,PRY:25.39,PER:301.25,POL:661.93,PRT:165.55,PRI:719.85,QAT:602.39,REU:608.41,ROU:240.45,RUS:436.28,RWA:294.12,KNA:681.82,LCA:685.71,SPM:800,VCT:500,WSM:470.59,STP:600,SAU:706.79,SEN:685.05,SRB:634,SYC:615.39,SLE:47.62,SGP:515.28,SVK:116.77,SVN:231.28,SLB:727.27,SOM:634.15,ZAF:741.63,KOR:441.65,SSD:684.21,ESP:174.04,LKA:543.12,SDN:288.13,SUR:356.44,SWE:40.7,CHE:34.85,SYR:758.35,TWN:639.53,TJK:99.34,TZA:313.68,THA:560.74,PHL:641.96,TGO:492.06,TON:625,TTO:724.14,TUN:567.62,TUR:458.38,TKM:1306.36,TCA:703.7,UGA:52.27,UKR:194.4,ARE:561.14,GBR:237.74,USA:410.37,URY:149.49,UZB:1176.69,VUT:571.43,VEN:298.5,VNM:409.8,VGB:714.29,VIR:685.71,WORLD:490.11,YEM:613.64,ZMB:86.39,ZWE:433.38},j="average";var R={data:k,type:j};var v=.81,O=.52,S=.14,p=.15,P=.19,c=R.data.WORLD,f=50,g=.75,N=.25,y=.02;var E=a=>parseFloat(a.toFixed(2));function B(a){if(typeof a!="object")throw new Error("Options must be an object");let e={};if(a?.gridIntensity){e.gridIntensity={};let{device:t,dataCenter:n,network:r}=a.gridIntensity;(t||t===0)&&(typeof t=="object"?(R.data[t.country?.toUpperCase()]||(console.warn(`"${t.country}" is not a valid country. Please use a valid 3 digit ISO 3166 country code. 
See https://developers.thegreenwebfoundation.org/co2js/data/ for more information. 
Falling back to global average grid intensity.`),e.gridIntensity.device={value:c}),e.gridIntensity.device={country:t.country,value:parseFloat(R.data[t.country?.toUpperCase()])}):typeof t=="number"?e.gridIntensity.device={value:t}:(e.gridIntensity.device={value:c},console.warn(`The device grid intensity must be a number or an object. You passed in a ${typeof t}. 
Falling back to global average grid intensity.`))),(n||n===0)&&(typeof n=="object"?(R.data[n.country?.toUpperCase()]||(console.warn(`"${n.country}" is not a valid country. Please use a valid 3 digit ISO 3166 country code. 
See https://developers.thegreenwebfoundation.org/co2js/data/ for more information.  
Falling back to global average grid intensity.`),e.gridIntensity.dataCenter={value:c}),e.gridIntensity.dataCenter={country:n.country,value:parseFloat(R.data[n.country?.toUpperCase()])}):typeof n=="number"?e.gridIntensity.dataCenter={value:n}:(e.gridIntensity.dataCenter={value:c},console.warn(`The data center grid intensity must be a number or an object. You passed in a ${typeof n}. 
Falling back to global average grid intensity.`))),(r||r===0)&&(typeof r=="object"?(R.data[r.country?.toUpperCase()]||(console.warn(`"${r.country}" is not a valid country. Please use a valid 3 digit ISO 3166 country code. 
See https://developers.thegreenwebfoundation.org/co2js/data/ for more information.  Falling back to global average grid intensity. 
Falling back to global average grid intensity.`),e.gridIntensity.network={value:c}),e.gridIntensity.network={country:r.country,value:parseFloat(R.data[r.country?.toUpperCase()])}):typeof r=="number"?e.gridIntensity.network={value:r}:(e.gridIntensity.network={value:c},console.warn(`The network grid intensity must be a number or an object. You passed in a ${typeof r}. 
Falling back to global average grid intensity.`)))}return(a?.dataReloadRatio||a.dataReloadRatio===0)&&(typeof a.dataReloadRatio=="number"?a.dataReloadRatio>=0&&a.dataReloadRatio<=1?e.dataReloadRatio=a.dataReloadRatio:(e.dataReloadRatio=y,console.warn(`The dataReloadRatio option must be a number between 0 and 1. You passed in ${a.dataReloadRatio}. 
Falling back to default value.`)):(e.dataReloadRatio=y,console.warn(`The dataReloadRatio option must be a number. You passed in a ${typeof a.dataReloadRatio}. 
Falling back to default value.`))),(a?.firstVisitPercentage||a.firstVisitPercentage===0)&&(typeof a.firstVisitPercentage=="number"?a.firstVisitPercentage>=0&&a.firstVisitPercentage<=1?e.firstVisitPercentage=a.firstVisitPercentage:(e.firstVisitPercentage=g,console.warn(`The firstVisitPercentage option must be a number between 0 and 1. You passed in ${a.firstVisitPercentage}. 
Falling back to default value.`)):(e.firstVisitPercentage=g,console.warn(`The firstVisitPercentage option must be a number. You passed in a ${typeof a.firstVisitPercentage}. 
Falling back to default value.`))),(a?.returnVisitPercentage||a.returnVisitPercentage===0)&&(typeof a.returnVisitPercentage=="number"?a.returnVisitPercentage>=0&&a.returnVisitPercentage<=1?e.returnVisitPercentage=a.returnVisitPercentage:(e.returnVisitPercentage=N,console.warn(`The returnVisitPercentage option must be a number between 0 and 1. You passed in ${a.returnVisitPercentage}. 
Falling back to default value.`)):(e.returnVisitPercentage=N,console.warn(`The returnVisitPercentage option must be a number. You passed in a ${typeof a.returnVisitPercentage}. 
Falling back to default value.`))),e}function _(a=""){return{"User-Agent":`co2js/0.14.4 ${a}`}}var G=class{constructor(e){this.options=e}energyPerByteByComponent(e){let n=e/C.GIGABYTE*v;return{consumerDeviceEnergy:n*O,networkEnergy:n*S,productionEnergy:n*P,dataCenterEnergy:n*p}}co2byComponent(e,t=c,n={}){let r=c,i=c,o=c,d=c;if(n?.gridIntensity){let{device:s,network:l,dataCenter:I}=n.gridIntensity;(s?.value||s?.value===0)&&(r=s.value),(l?.value||l?.value===0)&&(i=l.value),(I?.value||I?.value===0)&&(o=I.value)}t===!0&&(o=f);let u={};for(let[s,l]of Object.entries(e))s.startsWith("dataCenterEnergy")?u[s.replace("Energy","CO2")]=l*o:s.startsWith("consumerDeviceEnergy")?u[s.replace("Energy","CO2")]=l*r:s.startsWith("networkEnergy")?u[s.replace("Energy","CO2")]=l*i:u[s.replace("Energy","CO2")]=l*d;return u}perByte(e,t=!1,n=!1,r={}){e<1&&(e=0);let i=this.energyPerByteByComponent(e,r);if(typeof t!="boolean")throw new Error(`perByte expects a boolean for the carbon intensity value. Received: ${t}`);let o=this.co2byComponent(i,t,r),u=Object.values(o).reduce((s,l)=>s+l);return n?{...o,total:u}:u}perVisit(e,t=!1,n=!1,r={}){let i=this.energyPerVisitByComponent(e,r);if(typeof t!="boolean")throw new Error(`perVisit expects a boolean for the carbon intensity value. Received: ${t}`);let o=this.co2byComponent(i,t,r),u=Object.values(o).reduce((s,l)=>s+l);return n?{...o,total:u}:u}energyPerByte(e){let t=this.energyPerByteByComponent(e);return Object.values(t).reduce((r,i)=>r+i)}energyPerVisitByComponent(e,t={},n=g,r=N,i=y){(t.dataReloadRatio||t.dataReloadRatio===0)&&(i=t.dataReloadRatio),(t.firstVisitPercentage||t.firstVisitPercentage===0)&&(n=t.firstVisitPercentage),(t.returnVisitPercentage||t.returnVisitPercentage===0)&&(r=t.returnVisitPercentage);let o=this.energyPerByteByComponent(e),d={},u=Object.values(o);for(let[s,l]of Object.entries(o))d[`${s} - first`]=l*n,d[`${s} - subsequent`]=l*r*i;return d}energyPerVisit(e){let t=0,n=0,r=Object.entries(this.energyPerVisitByComponent(e));for(let[i,o]of r)i.indexOf("first")>0&&(t+=o);for(let[i,o]of r)i.indexOf("subsequent")>0&&(n+=o);return t+n}emissionsPerVisitInGrams(e,t=c){return E(e*t)}annualEnergyInKwh(e,t=1e3){return e*t*12}annualEmissionsInGrams(e,t=1e3){return e*t*12}annualSegmentEnergy(e){return{consumerDeviceEnergy:E(e*O),networkEnergy:E(e*S),dataCenterEnergy:E(e*p),productionEnergy:E(e*P)}}};var h=G;var M=class{constructor(e){if(this.model=new h,e?.model==="1byte")this.model=new D;else if(e?.model==="swd")this.model=new h;else if(e?.model)throw new Error(`"${e.model}" is not a valid model. Please use "1byte" for the OneByte model, and "swd" for the Sustainable Web Design model.
See https://developers.thegreenwebfoundation.org/co2js/models/ to learn more about the models available in CO2.js.`);this._segment=e?.results==="segment"}perByte(e,t=!1){return this.model.perByte(e,t,this._segment)}perVisit(e,t=!1){if(this.model?.perVisit)return this.model.perVisit(e,t,this._segment);throw new Error(`The perVisit() method is not supported in the model you are using. Try using perByte() instead.
See https://developers.thegreenwebfoundation.org/co2js/methods/ to learn more about the methods available in CO2.js.`)}perByteTrace(e,t=!1,n={}){let r={};return n&&(r=B(n)),{co2:this.model.perByte(e,t,this._segment,r),green:t,variables:{description:"Below are the variables used to calculate this CO2 estimate.",bytes:e,gridIntensity:{description:"The grid intensity (grams per kilowatt-hour) used to calculate this CO2 estimate.",network:r?.gridIntensity?.network?.value??c,dataCenter:t?f:r?.gridIntensity?.dataCenter?.value??c,production:c,device:r?.gridIntensity?.device?.value??c}}}}perVisitTrace(e,t=!1,n={}){if(this.model?.perVisit){let r={};return n&&(r=B(n)),{co2:this.model.perVisit(e,t,this._segment,r),green:t,variables:{description:"Below are the variables used to calculate this CO2 estimate.",bytes:e,gridIntensity:{description:"The grid intensity (grams per kilowatt-hour) used to calculate this CO2 estimate.",network:r?.gridIntensity?.network?.value??c,dataCenter:t?f:r?.gridIntensity?.dataCenter?.value??c,production:c,device:r?.gridIntensity?.device?.value??c},dataReloadRatio:r?.dataReloadRatio??.02,firstVisitPercentage:r?.firstVisitPercentage??.75,returnVisitPercentage:r?.returnVisitPercentage??.25}}}else throw new Error(`The perVisitDetailed() method is not supported in the model you are using. Try using perByte() instead.
See https://developers.thegreenwebfoundation.org/co2js/methods/ to learn more about the methods available in CO2.js.`)}perDomain(e,t){let n=[];for(let r of Object.keys(e.domains)){let i;t&&t.indexOf(r)>-1?i=this.perByte(e.domains[r].transferSize,!0):i=this.perByte(e.domains[r].transferSize),n.push({domain:r,co2:i,transferSize:e.domains[r].transferSize})}return n.sort((r,i)=>i.co2-r.co2),n}perPage(e,t){let n=this.perDomain(e,t),r=0;for(let i of n)r+=i.co2;return r}perContentType(e,t){let n={};for(let i of e.assets){let o=new URL(i.url).domain,d=i.transferSize,u=this.perByte(d,t&&t.indexOf(o)>-1),s=i.type;n[s]||(n[s]={co2:0,transferSize:0}),n[s].co2+=u,n[s].transferSize+=d}let r=[];for(let i of Object.keys(n))r.push({type:i,co2:n[i].co2,transferSize:n[i].transferSize});return r.sort((i,o)=>o.co2-i.co2),r}dirtiestResources(e,t){let n=[];for(let r of e.assets){let i=new URL(r.url).domain,o=r.transferSize,d=this.perByte(o,t&&t.indexOf(i)>-1);n.push({url:r.url,co2:d,transferSize:o})}return n.sort((r,i)=>i.co2-r.co2),n.slice(0,n.length>10?10:n.length)}perParty(e,t){let n=0,r=0,i=e.firstPartyRegEx;for(let o of Object.keys(e.domains))o.match(i)?n+=this.perByte(e.domains[o].transferSize,t&&t.indexOf(o)>-1):r+=this.perByte(e.domains[o].transferSize,t&&t.indexOf(o)>-1);return{firstParty:n,thirdParty:r}}};var V=M;function x(a,e){return typeof a=="string"?Z(a,e):$(a,e)}async function Z(a,e){return(await(await fetch(`https://api.thegreenwebfoundation.org/greencheck/${a}`,{headers:_(e)})).json()).green}async function $(a,e){try{let t="https://api.thegreenwebfoundation.org/v2/greencheckmulti",n=JSON.stringify(a),i=await(await fetch(`${t}/${n}`,{headers:_(e)})).json();return z(i)}catch{return[]}}function z(a){return Object.entries(a).filter(([n,r])=>r.green).map(([n,r])=>r.url)}var U={check:x};function J(a,e){return U.check(a,e)}var b={check:J};var Q={AFG:"414",ALB:"0",DZA:"528",ASM:"753",AND:"188",AGO:"1476",AIA:"753",ATG:"753",ARG:"478",ARM:"390",ABW:"753",AUS:"808",AUT:"242",AZE:"534","AZORES (PORTUGAL)":"753",BHS:"753",BHR:"726",BGD:"528",BRB:"749",BLR:"400",BEL:"252",BLZ:"403",BEN:"745",BMU:"753",BTN:"0",BOL:"604",BES:"753",BIH:"1197",BWA:"1486",BRA:"284",VGB:"753",BRN:"681",BGR:"911",BFA:"753",BDI:"414",KHM:"1046",CMR:"659",CAN:"372",CYM:"753",CPV:"753",CAF:"188",TCD:"753","CHANNEL ISLANDS (U.K)":"753",CHL:"657",CHN:"899",COL:"410",COM:"753",COD:"0",COG:"659",COK:"753",CRI:"108",CIV:"466",HRV:"294",CUB:"559",CUW:"876",CYP:"751",CZE:"902",DNK:"362",DJI:"753",DMA:"753",DOM:"601",ECU:"560",EGY:"554",SLV:"547",GNQ:"632",ERI:"915",EST:"1057",SWZ:"0",ETH:"0",FLK:"753",FRO:"753",FJI:"640",FIN:"267",FRA:"158",GUF:"423",PYF:"753",GAB:"946",GMB:"753",GEO:"289",DEU:"650",GHA:"495",GIB:"779",GRC:"507",GRL:"264",GRD:"753",GLP:"753",GUM:"753",GTM:"798",GIN:"753",GNB:"753",GUY:"847",HTI:"1048",HND:"662",HUN:"296",ISL:"0",IND:"951",IDN:"783",IRN:"592",IRQ:"1080",IRL:"380",IMN:"436",ISR:"394",ITA:"414",JAM:"711",JPN:"471",JOR:"529",KAZ:"797",KEN:"574",KIR:"753",PRK:"754",KOR:"555",XKX:"1145",KWT:"675",KGZ:"217",LAO:"1069",LVA:"240",LBN:"794",LSO:"0",LBR:"677",LBY:"668",LIE:"151",LTU:"211",LUX:"220",MDG:"876","MADEIRA (PORTUGAL)":"663",MWI:"489",MYS:"551",MDV:"753",MLI:"1076",MLT:"520",MHL:"753",MTQ:"753",MRT:"753",MUS:"700",MYT:"753",MEX:"531",FSM:"753",MDA:"541",MCO:"158",MNG:"1366",MNE:"899",MSR:"753",MAR:"729",MOZ:"234",MMR:"719",NAM:"355",NRU:"753",NPL:"0",NLD:"326",NCL:"779",NZL:"246",NIC:"675",NER:"772",NGA:"526",NIU:"753",MKD:"851",MNP:"753",NOR:"47",OMN:"479",PAK:"592",PLW:"753",PSE:"719",PAN:"477",PNG:"597",PRY:"0",PER:"473",PHL:"672",POL:"828",PRT:"389",PRI:"596",QAT:"503",REU:"772",ROU:"489",RUS:"476",RWA:"712",SHN:"753",KNA:"753",LCA:"753",MAF:"753",SPM:"753",VCT:"753",WSM:"753",SMR:"414",STP:"753",SAU:"592",SEN:"870",SRB:"1086",SYC:"753",SLE:"489",SGP:"379",SXM:"753",SVK:"332",SVN:"620",SLB:"753",SOM:"753",ZAF:"1070",SSD:"890",ESP:"402",LKA:"731",SDN:"736",SUR:"1029",SWE:"68",CHE:"48",SYR:"713",TWN:"484",TJK:"255",TZA:"531",THA:"450",TLS:"753",TGO:"859",TON:"753",TTO:"559",TUN:"468",TUR:"376",TKM:"927",TCA:"753",TUV:"753",UGA:"279",UKR:"768",ARE:"556",GBR:"380",USA:"416",URY:"174",UZB:"612",VUT:"753",VEN:"711",VNM:"560",VIR:"650",YEM:"807",ZMB:"416",ZWE:"1575","MEMO:  EU 27":"409"},q="marginal",X="2021";var L={data:Q,type:q,year:X};var ee={co2:V,hosting:b,averageIntensity:R,marginalIntensity:L};return H(te);})();
//# sourceMappingURL=index.js.map
